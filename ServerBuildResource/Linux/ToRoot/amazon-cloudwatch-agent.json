{
  "agent": {
    "metrics_collection_interval": 10,
    "logfile": "/opt/aws/amazon-cloudwatch-agent/logs/amazon-cloudwatch-agent.log"
  },
  "metrics":{
      "metrics_collected":{
         "statsd":{
            "service_address":":8125",
            "metrics_collection_interval":60,
            "metrics_aggregation_interval":60
         },
         "procstat": [
          {
              "pattern": "-port 1935",
              "measurement": [
                  "cpu_usage",
                  "memory_rss"
              ]
          },
          {
            "pattern": "-port 7777",
            "measurement": [
                "cpu_usage",
                "memory_rss"
            ]
        }
        ]
      }
   },
  "logs": {
    "logs_collected": {
      "files": {
        "collect_list": [
          {
            "file_path": "/opt/aws/amazon-cloudwatch-agent/logs/amazon-cloudwatch-agent.log",
            "log_group_name": "AmazonCloudWatchAgentLogs",
            "log_stream_name": "AmazonCloudWatchAgentLogs-{instance_id}",
            "timezone": "UTC"
          },
          {
            "file_path": "/local/game/logs/game-server-7777.log",
            "log_group_name": "GameServerLogs",
            "log_stream_name": "GameServerLogs-{ip_address}-7777",
            "timezone": "Local"
          },
          {
            "file_path": "/local/game/logs/game-server-7778.log",
            "log_group_name": "GameServerLogs",
            "log_stream_name": "GameServerLogs-{ip_address}-7778",
            "timezone": "Local"
          },
          {
            "file_path": "/local/game/logs/game-server-7779.log",
            "log_group_name": "GameServerLogs",
            "log_stream_name": "GameServerLogs-{ip_address}-7779",
            "timezone": "Local"
          }
        ]
      }
    },
    "force_flush_interval" : 15
  }
}